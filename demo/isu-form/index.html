<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, minimum-scale=1, initial-scale=1, user-scalable=yes">
  
  <title>isu-form demo</title>
  <link rel="stylesheet" href="/utils/jedate/skin/jedate.css">
  <script type="text/javascript" src="../../utils/mock_setup.js"></script>
  
  <script type="module">
    import '../../node_modules/@webcomponents/webcomponentsjs/webcomponents-loader';
    import '../../node_modules/@polymer/iron-demo-helpers/demo-pages-shared-styles.js';
    import '../../node_modules/@polymer/iron-demo-helpers/demo-snippet.js';
    import '../../isu-form.js';
    import '../../isu-input.js';
    import '../../isu-button.js';
    import '../../isu-cascading.js';
    import '../../isu-input-date.js';
    import '../../isu-input-datetime.js'
    import '../../isu-input-jedate.js'

    if (!window.location.href.endsWith("?mock=formMockData.js")) {
      window.location.href = window.location.href + "?mock=formMockData.js";
    }
  </script>
  
  <script type="module">
    const $_documentContainer = document.createElement('template');
    
    $_documentContainer.innerHTML = `<custom-style>
    <style is="custom-style" include="demo-pages-shared-styles">
      .centered {
        min-width: 800px;
      }

      demo-snippet {
        --demo-snippet-code: {
          max-height: 500px;
        }
      }

      #form4 {
        --form-container-style: {
          grid-template-columns: 33% 33% 33%;
        }
      }
    </style>
  </custom-style>`;
    
    document.body.appendChild($_documentContainer.content);
  </script>
</head>
<body>
<div class="vertical-section-container centered">
  <h3>Basic isu-form demo</h3>
  <demo-snippet>
    <template>
      <custom-style>
        <style>
          .form-input {
            width: 350px;
            --isu-label: {
              width: 60px;
              text-align: right;
            }
          }
        </style>
      </custom-style>
      <isu-form title="demo" id="form" action="/test.do">
        <isu-input class="form-input" label="公司名称" name="company"></isu-input>
        <isu-input class="form-input" label="电话" name="tel" type="tel" maxlength="11"></isu-input>
        <isu-input class="form-input" label="地址" name="address"></isu-input>
        <isu-input class="form-input" label="姓名" name="name"></isu-input>
        <isu-input class="form-input" label="年龄" name="age" type="number" required="" min="10" max="20"
                  prompt="年龄介乎10到20之间"></isu-input>
        <isu-button slot="form-btn" form-submit="">提交</isu-button>
        <isu-cascading id="cascade" label="测试" required prompt="级联表不能为空"></isu-cascading>
        <isu-input-date id="inputdate" label="日期date" required prompt="日期不能为空"></isu-input-date>
        <isu-input-datetime id="inputdatetime" label="日期datetime" required prompt="日期时间不能为空" min="1994-01-23"></isu-input-datetime>
        <isu-input-jedate label="新日期" required prompt="日期不能为空"></isu-input-jedate>
      </isu-form>
      <script type="module">
        import {TipBehavior} from "../../behaviors/tip-behavior.js";
        cascade.items = [{
          value: 'zhinan',
          label: '指南',
          children: [{
            value: 'shejiyuanze',
            label: '设计原则',
            children: [{
              value: 'yizhi',
              label: '一致'
            }, {
              value: 'fankui',
              label: '反馈'
            }, {
              value: 'xiaolv',
              label: '效率'
            }, {
              value: 'kekong',
              label: '可控'
            }]
          }, {
            value: 'daohang',
            label: '导航',
            children: [{
              value: 'cexiangdaohang',
              label: '侧向导航'
            }, {
              value: 'dingbudaohang',
              label: '顶部导航'
            }]
          }]
        }, {
          value: 'zujian',
          label: '组件',
          children: [{
            value: 'basic',
            label: 'Basic',
            children: [{
              value: 'layout',
              label: 'Layout 布局'
            }, {
              value: 'color',
              label: 'Color 色彩'
            }, {
              value: 'typography',
              label: 'Typography 字体'
            }, {
              value: 'icon',
              label: 'Icon 图标'
            }, {
              value: 'button',
              label: 'Button 按钮'
            }]
          }, {
            value: 'form',
            label: 'Form',
            children: [{
              value: 'radio',
              label: 'Radio 单选框'
            }, {
              value: 'checkbox',
              label: 'Checkbox 多选框'
            }, {
              value: 'input',
              label: 'Input 输入框'
            }, {
              value: 'input-number',
              label: 'InputNumber 计数器'
            }, {
              value: 'select',
              label: 'Select 选择器'
            }, {
              value: 'cascader',
              label: 'Cascader 级联选择器'
            }, {
              value: 'switch',
              label: 'Switch 开关'
            }, {
              value: 'slider',
              label: 'Slider 滑块'
            }, {
              value: 'time-picker',
              label: 'TimePicker 时间选择器'
            }, {
              value: 'date-picker',
              label: 'DatePicker 日期选择器'
            }, {
              value: 'datetime-picker',
              label: 'DateTimePicker 日期时间选择器'
            }, {
              value: 'upload',
              label: 'Upload 上传'
            }, {
              value: 'rate',
              label: 'Rate 评分'
            }, {
              value: 'form',
              label: 'Form 表单'
            }]
          }, {
            value: 'data',
            label: 'Data',
            children: [{
              value: 'table',
              label: 'Table 表格'
            }, {
              value: 'tag',
              label: 'Tag 标签'
            }, {
              value: 'progress',
              label: 'Progress 进度条'
            }, {
              value: 'tree',
              label: 'Tree 树形控件'
            }, {
              value: 'pagination',
              label: 'Pagination 分页'
            }, {
              value: 'badge',
              label: 'Badge 标记'
            }]
          }, {
            value: 'notice',
            label: 'Notice',
            children: [{
              value: 'alert',
              label: 'Alert 警告'
            }, {
              value: 'loading',
              label: 'Loading 加载'
            }, {
              value: 'message',
              label: 'Message 消息提示'
            }, {
              value: 'message-box',
              label: 'MessageBox 弹框'
            }, {
              value: 'notification',
              label: 'Notification 通知'
            }]
          }, {
            value: 'navigation',
            label: 'Navigation',
            children: [{
              value: 'menu',
              label: 'NavMenu 导航菜单'
            }, {
              value: 'tabs',
              label: 'Tabs 标签页'
            }, {
              value: 'breadcrumb',
              label: 'Breadcrumb 面包屑'
            }, {
              value: 'dropdown',
              label: 'Dropdown 下拉菜单'
            }, {
              value: 'steps',
              label: 'Steps 步骤条'
            }]
          }, {
            value: 'others',
            label: 'Others',
            children: [{
              value: 'dialog',
              label: 'Dialog 对话框'
            }, {
              value: 'tooltip',
              label: 'Tooltip 文字提示'
            }, {
              value: 'popover',
              label: 'Popover 弹出框'
            }, {
              value: 'card',
              label: 'Card 卡片'
            }, {
              value: 'carousel',
              label: 'Carousel 走马灯'
            }, {
              value: 'collapse',
              label: 'Collapse 折叠面板'
            }]
          }]
        }, {
          value: 'ziyuan',
          label: '资源',
          children: [{
            value: 'axure',
            label: 'Axure Components'
          }, {
            value: 'sketch',
            label: 'Sketch Templates'
          }, {
            value: 'jiaohu',
            label: '组件交互文档'
          }]
        }];
        form.addEventListener('submitted', e => {
          console.log('submitted', e);
        });
        form.addEventListener('error', e => {
          console.log('error', e);
          TipBehavior.h2Tip.error("保存失败");
        });
        form.addEventListener("response-body-changed", (e) => {
          alert(JSON.stringify(e.detail.value));
        });
        TipBehavior.h2Tip.error("保存失败");
      </script>
    </template>
  </demo-snippet>
</div>

<div class="vertical-section-container centered">
  <h3>Setting Enctype</h3>
  <demo-snippet>
    <template>
      <isu-form title="demo" id="form1" action="/test.do" enctype="application/x-www-form-urlencoded">
        <isu-input class="form-input" label="公司名称" name="company"></isu-input>
        <isu-input class="form-input" label="电话" name="tel" type="tel" maxlength="11"></isu-input>
        <isu-input class="form-input" label="地址" name="address"></isu-input>
        <isu-input class="form-input" label="姓名" name="name"></isu-input>
        <isu-button slot="form-btn" form-submit="">提交</isu-button>
      </isu-form>
      <script>
        form1.addEventListener("response-body-changed", (e) => {
          alert(e.detail.value.message);
        });
      </script>
    </template>
  
  </demo-snippet>
</div>

<div class="vertical-section-container centered">
  <h3>Setting Enctype</h3>
  <demo-snippet>
    <template>
      <isu-form title="demo" id="form2" action="/test2.do" enctype="multipart/form-data">
        <isu-input class="form-input" label="公司名称" name="company"></isu-input>
        <isu-input class="form-input" label="电话" name="tel" type="tel" maxlength="11"></isu-input>
        <isu-input class="form-input" label="地址" name="address"></isu-input>
        <isu-input class="form-input" label="姓名" name="name"></isu-input>
        <isu-button slot="form-btn" form-submit="">提交</isu-button>
      </isu-form>
      <script>
        form2.addEventListener("response-body-changed", (e) => {
          alert(e.detail);
        });
      </script>
    </template>
  </demo-snippet>
</div>

<div class="vertical-section-container centered">
  <h3>Setting method</h3>
  <demo-snippet>
    <template>
      <isu-form title="demo" id="form3" action="/test3.do" method="GET">
        <isu-input class="form-input" label="公司名称" name="company"></isu-input>
        <isu-input class="form-input" label="电话" name="tel" type="tel" maxlength="11"></isu-input>
        <isu-input class="form-input" label="地址" name="address"></isu-input>
        <isu-input class="form-input" label="姓名" name="name"></isu-input>
        <isu-button slot="form-btn" form-submit="">提交</isu-button>
      </isu-form>
    </template>
  </demo-snippet>
</div>

<div class="vertical-section-container centered">
  <h3>Novalidate</h3>
  <demo-snippet>
    <template>
      <isu-form title="demo" id="form4" action="/test4.do" novalidate="">
        <isu-input class="form-input" label="公司名称" name="company"></isu-input>
        <isu-input class="form-input" label="电话" name="tel" type="tel" maxlength="11"></isu-input>
        <isu-input class="form-input" label="地址" name="address"></isu-input>
        <isu-input class="form-input" label="姓名" name="name"></isu-input>
        <isu-input class="form-input" label="年龄" name="age" type="number" required="" min="10" max="20"
                  prompt="年龄介乎10到20之间"></isu-input>
        <isu-button slot="form-btn" form-submit="">提交</isu-button>
      </isu-form>
      <script>
        form3.bindSubmit = () => {
          alert("User-define Submit Function");
        }
      </script>
    </template>
  </demo-snippet>
</div>
</demo-snippet>
</div>

<div class="vertical-section-container centered">
  <h3>Custom style</h3>
  <demo-snippet>
    <template>
      <custom-style>
        <style>
          #form5 {
            --isu-form: {
              grid-template-columns: 30% 30% 30%;
              grid-column-gap: 3%;
              grid-row-gap: 20px;
            };
            --isu-form-title: {
              text-align: center;
            };
            --isu-form-button: {
              justify-content: flex-start;
            };
          }
          
          .form-input1 {
            width: 240px;
            
            --isu-input-label: {
              width: 80px;
            };
          }
        </style>
      </custom-style>
      <isu-form title="Demo" id="form5" action="/test5.do">
        <isu-input class="form-input1" label="公司名称" name="company"></isu-input>
        <isu-input class="form-input1" label="电话" name="tel" type="tel" maxlength="11"></isu-input>
        <isu-input class="form-input1" label="地址" name="address"></isu-input>
        <isu-input class="form-input1" label="姓名" name="name"></isu-input>
        <isu-input class="form-input1" label="年龄" name="age" type="number" required="" min="10" max="20"
                  prompt="年龄介乎10到20之间"></isu-input>
        <isu-button slot="form-btn" form-submit="">提交</isu-button>
      </isu-form>
    </template>
  </demo-snippet>
</div>
</body>
</html>
